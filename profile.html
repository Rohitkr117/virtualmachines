<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Social Media Feed</title>
    <link rel="stylesheet" href="profilecss.css">
    <script
      src="https://kit.fontawesome.com/a076d05399.js"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <div class="container">
      <!-- Header Section -->
      <header>
        <div class="logo">
          <img src="logo.svg" alt="logo" />
          <span>campus circle</span>
        </div>
        <div class="search-bar">
          <input type="text" placeholder="search" />
        </div>
        <div class="top-right">
          <span>eng</span>
          <i class="fas fa-globe"></i>
          <i class="fas fa-bell"></i>
        </div>
      </header>

      <!-- Main Section -->
      <main>
        <div class="left-sidebar">
          <i class="fas fa-user-circle"></i>
          <p>
            Welcome,<br />
            name
          </p>
        </div>
        <div class="feed">
          <!-- Feed Posts will be inserted here dynamically -->
          <div class="main-content">
            <div class="content-box">
              <!-- Add any content in these sections as required -->
            </div>
            <div class="content-box">
              <!-- Add any content in these sections as required -->
            </div>
            <div class="content-box">
              <!-- Add any content in these sections as required -->
            </div>
            <div class="content-box">
              <!-- Add any content in these sections as required -->
            </div>
            <div class="content-box">
              <!-- Add more content here -->
            </div>
          </div>
        </div>
      </main>

      <!-- Footer Section -->
      <footer>
        <div class="footer-content">
          <div class="contact-info">
            <p>contact us</p>
            <p>mail-kush@gmail.com</p>
            <p>call us: 0972374842</p>
          </div>
          <div class="social-links">
            <p>Follow us on</p>
            <div class="icons">
              <i class="fab fa-instagram"></i>
              <i class="fab fa-linkedin"></i>
              <i class="fab fa-facebook"></i>
              <i class="fab fa-github"></i>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <script>
      // Function to insert random posts with usernames, images, and post pictures
      function insertRandomPosts() {
        const contentBoxes = document.querySelectorAll('.content-box');

        // Fetch random posts and users from JSONPlaceholder
        Promise.all([
          fetch('https://jsonplaceholder.typicode.com/posts'),
          fetch('https://jsonplaceholder.typicode.com/users')
        ])
          .then((responses) =>
            Promise.all(responses.map((response) => response.json()))
          )
          .then((data) => {
            const posts = data[0];
            const users = data[1];

            contentBoxes.forEach((box, index) => {
              const post = posts[index];
              const user = users[index % users.length]; // Use a user in a cyclic manner

              // Generate random profile images using Lorem Picsum
              const randomProfileImage = `https://picsum.photos/50?random=${index}`;
              const randomPostImage = `https://picsum.photos/500/300?random=${index + 100}`; // Random post image

              // Random like count
              let likeCount = Math.floor(Math.random() * 100) + 1;
              let isLiked = false;

              // Insert content into the content-box div
              box.innerHTML = `
              <div class="post">
                <div class="post-header">
                  <img src="${randomProfileImage}" alt="User Profile" class="profile-pic" />
                  <div>
                    <h4>${user.username}</h4>
                    <p>@${user.username.toLowerCase()}</p>
                  </div>
                </div>
                <div class="post-body">
                  <img src="${randomPostImage}" alt="Post Image" class="post-pic" />
                  <h3>${post.title}</h3>
                  <p>${post.body}</p>
                </div>
                <div class="post-footer">
                  <button class="like-btn">
                    <i class="fas fa-thumbs-up"></i>
                    <span class="like-count">${likeCount}</span> Likes
                  </button>
                  <button class="comment-btn">
                    <i class="fas fa-comment"></i> Comment
                  </button>
                  <button class="share-btn">
                    <i class="fas fa-share"></i> Share
                  </button>
                </div>
              </div>
            `;

              // Add event listener for like button
              const likeButton = box.querySelector('.like-btn');
              const likeCountElement = likeButton.querySelector('.like-count');

              likeButton.addEventListener('click', function () {
                if (!isLiked) {
                  likeCount++;
                  isLiked = true;
                  likeButton.classList.add('liked');
                } else {
                  likeCount--;
                  isLiked = false;
                  likeButton.classList.remove('liked');
                }
                likeCountElement.textContent = likeCount;
              });
            });
          })
          .catch((error) => {
            console.error('Error fetching posts or users:', error);
          });
      }

      // Call the function after the DOM has loaded
      document.addEventListener('DOMContentLoaded', insertRandomPosts);
    </script>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: Arial, sans-serif;
        background-color: #e7e3c5;
        height: 100vh; /* Ensures the body takes the full viewport height */
      }

      .container {
        display: flex;
        flex-direction: column;
        min-height: 100vh; /* Ensures the container takes the full height */
        justify-content: space-between; /* Pushes the footer to the bottom */
      }

      /* Header Section */
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #4ebcac;
        padding: 10px 20px;
        position: sticky;
        top: 0;
        z-index: 1000;
      }

      .logo {
        display: flex;
        align-items: center;
      }

      .logo img {
        width: 50px;
        height: 50px;
        margin-right: 10px;
      }

      .logo span {
        font-size: 24px;
        font-weight: bold;
        color: #000;
      }

      .top-right {
        display: flex;
        align-items: center;
      }

      .top-right span {
        margin-right: 10px;
        color: black;
        font-size: 16px;
      }

      .top-right i {
        margin-left: 10px;
        font-size: 18px;
        color: #313131;
      }

      /* Main Section */
      main {
        display: flex;
        flex-direction: row;
        padding: 20px;
        flex-grow: 1; /* Allows the main section to take up the remaining space */
      }

      main div {
        margin: 10px;
      }

      .left-sidebar {
        background-color: #2f3d49;
        color: #e7e3c5;
        width: 30vw;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        height: 40vh;
      }

      .left-sidebar i {
        font-size: 50px;
        margin-bottom: 10px;
      }

      .left-sidebar p {
        margin-top: 10px;
        font-size: 18px;
      }

      .main-content {
        flex-grow: 2;
        display: flex;
        flex-direction: column;
        gap: 20px;
        width: 100%;
      }

      .content-box {
        background-color: #2f3d49;
        padding: 20px;
        border-radius: 10px;
        width: 100%;
        height: auto ;
        margin: 0px;
        /* overflow: hidden; */
      }

      /* Post Styles */
      .post {
        background-color: #fff;
        border-radius: 10px;
        padding: 15px;
      }

      .post-header {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .profile-pic {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        object-fit: cover;
      }

      .post-body {
        margin-top: 10px;
      }

      .post-body img {
        width: 100%;
        height: auto;
        border-radius: 10px;
      }

      .post-footer {
        display: flex;
        justify-content: space-between;
        margin-top: 10px;
      }

      .post-footer button {
        border: none;
        background: none;
        cursor: pointer;
        font-size: 16px;
      }

      .post-footer button.liked {
        color: #ff4500;
      }

      .post-footer button i {
        margin-right: 5px;
      }

      /* Footer Section */
      footer {
        background-color: #4ebcac;
        padding: 20px;
      }

      .footer-content {
        display: flex;
        justify-content: space-between;
      }

      .contact-info {
        display: flex;
        flex-direction: column;
      }

      .contact-info p {
        font-size: 16px;
      }

      .social-links {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
      }

      .social-links p {
        font-size: 16px;
      }

      .social-links .icons {
        display: flex;
        gap: 10px;
      }

      .social-links .icons i {
        font-size: 24px;
        cursor: pointer;
      }
    </style>
  </body>
</html>
